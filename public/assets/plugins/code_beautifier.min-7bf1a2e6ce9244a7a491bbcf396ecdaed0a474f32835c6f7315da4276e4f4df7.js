!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";e.FE.PLUGINS.codeBeautifier=function(){function e(e,n){function i(e){return e.replace(/^\s+/g,"")}function o(e){return e.replace(/\s+$/g,"")}function r(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=l,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:_,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;e++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)p&&"\n"==e&&this.newlines<=m&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(g){var n=this.input.substr(this.pos,3);if("{{#"==n||"{{/"==n)break;if("{{!"==n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var i=n.exec(this.input),o=i?i.index:this.input.length;return this.pos<o&&(t=this.input.substring(this.pos,o),this.pos=o),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,i,o="",a=[],r="",s=!1,l=!0,d=this.pos,u=this.line_char_count;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=d,this.line_char_count=u),a.length?a.join(""):["","TK_EOF"];if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace))s=!0;else{if(("'"==o||'"'==o)&&(o+=this.get_unformatted(o),s=!0),"="==o&&(s=!1),a.length&&"="!=a[a.length-1]&&">"!=o&&s){if(this.space_or_wrap(a),s=!1,!l&&"force"==v&&"/"!=o){this.print_newline(!0,a),this.print_indentation(a);for(var h=0;y>h;h++)a.push(c)}for(var p=0;p<a.length;p++)if(" "==a[p]){l=!1;break}}if(g&&"<"==i&&o+this.input.charAt(this.pos)=="{{"&&(o+=this.get_unformatted("}}"),a.length&&" "!=a[a.length-1]&&"<"!=a[a.length-1]&&(o=" "+o),s=!0),"<"!=o||i||(t=this.pos-1,i="<"),g&&!i&&a.length>=2&&"{"==a[a.length-1]&&"{"==a[a.length-2]&&(t="#"==o||"/"==o||"!"==o?this.pos-3:this.pos-2,i="{"),this.line_char_count++,a.push(o),a[1]&&("!"==a[1]||"?"==a[1]||"%"==a[1])){a=[this.get_comment(t)];break}if(g&&a[1]&&"{"==a[1]&&a[2]&&"!"==a[2]){a=[this.get_comment(t)];break}if(g&&"{"==i&&a.length>2&&"}"==a[a.length-2]&&"}"==a[a.length-1])break}}while(">"!=o);var m,b,_=a.join("");m=-1!=_.indexOf(" ")?_.indexOf(" "):"{"==_[0]?_.indexOf("}"):_.indexOf(">"),b="<"!=_[0]&&g?"#"==_[2]?3:2:1;var w=_.substring(b,m).toLowerCase();return"/"==_.charAt(_.length-2)||this.Utils.in_array(w,this.Utils.single_token)?e||(this.tag_type="SINGLE"):g&&"{"==_[0]&&"else"==w?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(w,f)?(r=this.get_unformatted("</"+w+">",_),a.push(r),n=this.pos-1,this.tag_type="SINGLE"):"script"==w&&(-1==_.search("type")||_.search("type")>-1&&_.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag(w),this.tag_type="SCRIPT"):"style"==w&&(-1==_.search("type")||_.search("type")>-1&&_.search("text/css")>-1)?e||(this.record_tag(w),this.tag_type="STYLE"):"!"==w.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"==w.charAt(0)?(this.retrieve_tag(w.substring(1)),this.tag_type="END"):(this.record_tag(w),"html"!=w.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(a),this.Utils.in_array(w,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=d,this.line_char_count=u),a.join("")},this.get_comment=function(e){var t="",n=">",i=!1;this.pos=e;var o=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(t+=o,t[t.length-1]!=n[n.length-1]||-1==t.indexOf(n));)!i&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",i=!0):0===t.indexOf("<![cdata[")?(n="]]>",i=!0):0===t.indexOf("<![")?(n="]>",i=!0):0===t.indexOf("<!--")?(n="-->",i=!0):0===t.indexOf("{{!")?(n="}}",i=!0):0===t.indexOf("<?")?(n="?>",i=!0):0===t.indexOf("<%")&&(n="%>",i=!0)),o=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",i="",o=0,a=!0;do{if(this.pos>=this.input.length)return i;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!a){this.line_char_count--;continue}if("\n"==n||"\r"==n){i+="\n",this.line_char_count=0;continue}}i+=n,this.line_char_count++,a=!0,g&&"{"==n&&i.length&&"{"==i[i.length-2]&&(i+=this.get_unformatted("}}"),o=i.length)}while(-1==i.toLowerCase().indexOf(e,o));return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var t=this.last_token.substr(7);return e=this.get_contents_to(t),"string"!=typeof e?e:[e,"TK_"+t]}if("CONTENT"==this.current_mode)return e=this.get_content(),"string"!=typeof e?e:[e,"TK_CONTENT"];if("TAG"==this.current_mode){if(e=this.get_tag(),"string"!=typeof e)return e;var n="TK_TAG_"+this.tag_type;return[e,n]}},this.get_full_indent=function(e){return e=this.indent_level+e||0,1>e?"":new Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!=e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=this.get_tag(!0),i=(n||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(i&&!this.Utils.in_array(i,t))},this.printer=function(e,t,n,a,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=r,this.indent_level=0,this.wrap_line_length=a,this.line_char_count=0;for(var s=0;s<this.indent_size;s++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!=t[t.length-1])&&("\n"!=t[t.length-1]&&(t[t.length-1]=o(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){(!this.is_whitespace(e)||this.output.length)&&((e||""!==e)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),e=i(e)),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=o(e)),e&&""!==e&&(e.length>1&&"\n"==e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var s,l,d,c,u,h,f,p,m,g,v,y,b,_;for(n=n||{},void 0!==n.wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),l=void 0!==n.indent_inner_html&&n.indent_inner_html,d=void 0===n.indent_size?4:parseInt(n.indent_size,10),c=void 0===n.indent_char?" ":n.indent_char,h=void 0===n.brace_style?"collapse":n.brace_style,u=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),f=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],p=void 0===n.preserve_newlines||n.preserve_newlines,m=p?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,g=void 0!==n.indent_handlebars&&n.indent_handlebars,v=void 0===n.wrap_attributes?"auto":n.wrap_attributes,y=void 0===n.wrap_attributes_indent_size?d:parseInt(n.wrap_attributes_indent_size,10)||d,b=void 0!==n.end_with_newline&&n.end_with_newline,_=Array.isArray(n.extra_liners)?n.extra_liners.concat():"string"==typeof n.extra_liners?n.extra_liners.split(","):"head,body,/html".split(","),n.indent_with_tabs&&(c="\t",d=1),s=new r,s.printer(e,c,d,u,h);;){var w=s.get_token();if(s.token_text=w[0],s.token_type=w[1],"TK_EOF"==s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==s.last_token&&""===s.last_text){var k=s.token_text.match(/\w+/)[0],S=null;s.output.length&&(S=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null==S||S[1]!=k&&!s.Utils.in_array(S[1],f))&&s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var T=s.token_text.match(/^\s*<([a-z-]+)/i);T&&s.Utils.in_array(T[1],f)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var E,x=s.token_text,C=1;"TK_SCRIPT"==s.token_type?E="function"==typeof a&&a:"TK_STYLE"==s.token_type&&(E="function"==typeof t&&t),"keep"==n.indent_scripts?C=0:"separate"==n.indent_scripts&&(C=-s.indent_level);var M=s.get_full_indent(C);if(E)x=E(x.replace(/^\s*/,M),n);else{var L=x.match(/^\s*/)[0],D=L.match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,A=s.get_full_indent(C-D);x=x.replace(/^\s*/,M).replace(/\r\n|\r|\n/g,"\n"+A).replace(/\s+$/,"")}x&&(s.print_token_raw(x),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var F=s.output.join("").replace(/[\r\n\t ]+$/,"");return b&&(F+="\n"),F}function t(e,t){function n(){return w=e.charAt(++S),w||""}function i(t){var i="",o=S;return t&&r(),i=e.charAt(S+1)||"",S=o-1,n(),i}function o(t){for(var i=S;n();)if("\\"===w)n();else{if(-1!==t.indexOf(w))break;if("\n"===w)break}return e.substring(i,S+1)}function a(e){var t=S,i=o(e);return S=t-1,n(),i}function r(){for(var e="";k.test(i());)n(),e+=w;return e}function s(){var e="";for(w&&k.test(w)&&(e=w);k.test(n());)e+=w;return e}function l(t){var o=S;for(t="/"===i(),n();n();){if(!t&&"*"===w&&"/"===i()){n();break}if(t&&"\n"===w)return e.substring(o,S)}return e.substring(o,S)+w}function d(t){return e.substring(S-t.length,S).toLowerCase()===t}function c(){for(var t=0,n=S+1;n<e.length;n++){var i=e.charAt(n);if("{"===i)return!0;if("("===i)t+=1;else if(")"===i){if(0==t)return!1;t-=1}else if(";"===i||"}"===i)return!1}return!1}function u(){C++,E+=x}function h(){C--,E=E.slice(0,-m)}var f={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},p={"@media":!0,"@supports":!0,"@document":!0};t=t||{},e=e||"",e=e.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var m=t.indent_size||4,g=t.indent_char||" ",v=void 0===t.selector_separator_newline||t.selector_separator_newline,y=void 0!==t.end_with_newline&&t.end_with_newline,b=void 0===t.newline_between_rules||t.newline_between_rules,_=t.eol?t.eol:"\n";"string"==typeof m&&(m=parseInt(m,10)),t.indent_with_tabs&&(g="\t",m=1),_=_.replace(/\\r/,"\r").replace(/\\n/,"\n");var w,k=/^\s+$/,S=-1,T=0,E=e.match(/^[\t ]*/)[0],x=new Array(m+1).join(g),C=0,M=0,L={};L["{"]=function(e){L.singleSpace(),D.push(e),L.newLine()},L["}"]=function(e){L.newLine(),D.push(e),L.newLine()},L._lastCharWhitespace=function(){return k.test(D[D.length-1])},L.newLine=function(e){D.length&&(e||"\n"===D[D.length-1]||L.trim(),D.push("\n"),E&&D.push(E))},L.singleSpace=function(){D.length&&!L._lastCharWhitespace()&&D.push(" ")},L.preserveSingleSpace=function(){$&&L.singleSpace()},L.trim=function(){for(;L._lastCharWhitespace();)D.pop()};for(var D=[],A=!1,F=!1,N=!1,I="",O="";;){var R=s(),$=""!==R,H=-1!==R.indexOf("\n");if(O=I,I=w,!w)break;if("/"===w&&"*"===i()){var P=0===C;(H||P)&&L.newLine(),D.push(l()),L.newLine(),P&&L.newLine(!0)}else if("/"===w&&"/"===i())H||"{"===O||L.trim(),L.singleSpace(),D.push(l()),L.newLine();else if("@"===w){L.preserveSingleSpace(),D.push(w);var j=a(": ,;{}()[]/='\"");j.match(/[ :]$/)&&(n(),j=o(": ").replace(/\s$/,""),D.push(j),L.singleSpace()),j=j.replace(/\s$/,""),j in f&&(M+=1,j in p&&(N=!0))}else"#"===w&&"{"===i()?(L.preserveSingleSpace(),D.push(o("}"))):"{"===w?"}"===i(!0)?(r(),n(),L.singleSpace(),D.push("{}"),L.newLine(),b&&0===C&&L.newLine(!0)):(u(),L["{"](w),N?(N=!1,A=C>M):A=C>=M):"}"===w?(h(),L["}"](w),A=!1,F=!1,M&&M--,b&&0===C&&L.newLine(!0)):":"===w?(r(),!A&&!N||d("&")||c()?":"===i()?(n(),D.push("::")):D.push(":"):(F=!0,D.push(":"),L.singleSpace())):'"'===w||"'"===w?(L.preserveSingleSpace(),D.push(o(w))):";"===w?(F=!1,D.push(w),L.newLine()):"("===w?d("url")?(D.push(w),r(),n()&&(")"!==w&&'"'!==w&&"'"!==w?D.push(o(")")):S--)):(T++,L.preserveSingleSpace(),D.push(w),r()):")"===w?(D.push(w),T--):","===w?(D.push(w),r(),v&&!F&&1>T?L.newLine():L.singleSpace()):"]"===w?D.push(w):"["===w?(L.preserveSingleSpace(),D.push(w)):"="===w?(r(),w="=",D.push(w)):(L.preserveSingleSpace(),D.push(w))}var z="";return E&&(z+=E),z+=D.join("").replace(/[\r\n\t ]+$/,""),y&&(z+="\n"),"\n"!=_&&(z=z.replace(/[\n]/g,_)),z}function n(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function i(e){return e.replace(/^\s+|\s+$/g,"")}function o(e){return e.replace(/^\s+/g,"")}function a(e,t){var n=new r(e,t);return n.beautify()}function r(e,t){function a(e,t){var n=0;e&&(n=e.indentation_level,!B.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var i={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:B.get_line_number(),ternary_depth:0};return i}function r(e){var t=e.newlines,n=te.keep_array_indentation&&b(X.mode);if(n)for(i=0;t>i;i+=1)f(i>0);else if(te.max_preserve_newlines&&t>te.max_preserve_newlines&&(t=te.max_preserve_newlines),te.preserve_newlines&&e.newlines>1){f();for(var i=1;t>i;i+=1)f(!0)}K=e,ee[K.type]()}function s(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function h(e){if(e=void 0!==e&&e,!B.just_added_newline())if(te.preserve_newlines&&K.wanted_newline||e)f(!1,!0);else if(te.wrap_line_length){var t=B.current_line.get_character_count()+K.text.length+(B.space_before_token?1:0);t>=te.wrap_line_length&&f(!1,!0)}}function f(e,t){if(!t&&";"!==X.last_text&&","!==X.last_text&&"="!==X.last_text&&"TK_OPERATOR"!==V)for(;X.mode===u.Statement&&!X.if_block&&!X.do_block;)w();B.add_new_line(e)&&(X.multiline_frame=!0)}function p(){B.just_added_newline()&&(te.keep_array_indentation&&b(X.mode)&&K.wanted_newline?(B.current_line.push(K.whitespace_before),B.space_before_token=!1):B.set_indent(X.indentation_level)&&(X.line_indent_level=X.indentation_level))}function m(e){return B.raw?void B.add_raw_token(K):(te.comma_first&&"TK_COMMA"===V&&B.just_added_newline()&&","===B.previous_line.last()&&(B.previous_line.pop(),p(),B.add_token(","),B.space_before_token=!0),e=e||K.text,p(),void B.add_token(e))}function g(){X.indentation_level+=1}function v(){X.indentation_level>0&&(!X.parent||X.indentation_level>X.parent.indentation_level)&&(X.indentation_level-=1)}function y(e){X?(J.push(X),Q=X):Q=a(null,e),X=a(Q,e)}function b(e){return e===u.ArrayLiteral}function _(e){return n(e,[u.Expression,u.ForInitializer,u.Conditional])}function w(){J.length>0&&(Q=X,X=J.pop(),Q.mode===u.Statement&&B.remove_redundant_indentation(Q))}function k(){return X.parent.mode===u.ObjectLiteral&&X.mode===u.Statement&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===V&&n(X.last_text,["get","set"]))}function S(){return!!("TK_RESERVED"===V&&n(X.last_text,["var","let","const"])&&"TK_WORD"===K.type||"TK_RESERVED"===V&&"do"===X.last_text||"TK_RESERVED"===V&&"return"===X.last_text&&!K.wanted_newline||"TK_RESERVED"===V&&"else"===X.last_text&&("TK_RESERVED"!==K.type||"if"!==K.text)||"TK_END_EXPR"===V&&(Q.mode===u.ForInitializer||Q.mode===u.Conditional)||"TK_WORD"===V&&X.mode===u.BlockStatement&&!X.in_case&&"--"!==K.text&&"++"!==K.text&&"function"!==G&&"TK_WORD"!==K.type&&"TK_RESERVED"!==K.type||X.mode===u.ObjectLiteral&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===V&&n(X.last_text,["get","set"])))&&(y(u.Statement),g(),"TK_RESERVED"===V&&n(X.last_text,["var","let","const"])&&"TK_WORD"===K.type&&(X.declaration_statement=!0),k()||h("TK_RESERVED"===K.type&&n(K.text,["do","for","if","while"])),!0)}function T(e,t){for(var n=0;n<e.length;n++){var o=i(e[n]);if(o.charAt(0)!==t)return!1}return!0}function E(e,t){for(var n,i=0,o=e.length;o>i;i++)if(n=e[i],n&&0!==n.indexOf(t))return!1;return!0}function x(e){return n(e,["case","return","do","if","throw","else"])}function C(e){var t=U+(e||0);return 0>t||t>=ne.length?null:ne[t]}function M(){S();var e=u.Expression;if("["===K.text){if("TK_WORD"===V||")"===X.last_text)return"TK_RESERVED"===V&&n(X.last_text,W.line_starters)&&(B.space_before_token=!0),y(e),m(),g(),void(te.space_in_paren&&(B.space_before_token=!0));e=u.ArrayLiteral,b(X.mode)&&("["===X.last_text||","===X.last_text&&("]"===G||"}"===G))&&(te.keep_array_indentation||f())}else"TK_RESERVED"===V&&"for"===X.last_text?e=u.ForInitializer:"TK_RESERVED"===V&&n(X.last_text,["if","while"])&&(e=u.Conditional);";"===X.last_text||"TK_START_BLOCK"===V?f():"TK_END_EXPR"===V||"TK_START_EXPR"===V||"TK_END_BLOCK"===V||"."===X.last_text?h(K.wanted_newline):"TK_RESERVED"===V&&"("===K.text||"TK_WORD"===V||"TK_OPERATOR"===V?"TK_RESERVED"===V&&("function"===X.last_word||"typeof"===X.last_word)||"*"===X.last_text&&"function"===G?te.space_after_anon_function&&(B.space_before_token=!0):"TK_RESERVED"!==V||!n(X.last_text,W.line_starters)&&"catch"!==X.last_text||te.space_before_conditional&&(B.space_before_token=!0):B.space_before_token=!0,"("===K.text&&"TK_RESERVED"===V&&"await"===X.last_word&&(B.space_before_token=!0),"("===K.text&&("TK_EQUALS"===V||"TK_OPERATOR"===V)&&(k()||h()),y(e),m(),te.space_in_paren&&(B.space_before_token=!0),g()}function L(){for(;X.mode===u.Statement;)w();X.multiline_frame&&h("]"===K.text&&b(X.mode)&&!te.keep_array_indentation),te.space_in_paren&&("TK_START_EXPR"!==V||te.space_in_empty_paren?B.space_before_token=!0:(B.trim(),B.space_before_token=!1)),"]"===K.text&&te.keep_array_indentation?(m(),w()):(w(),m()),B.remove_redundant_indentation(Q),X.do_while&&Q.mode===u.Conditional&&(Q.mode=u.Expression,X.do_block=!1,X.do_while=!1)}function D(){var e=C(1),t=C(2);y(t&&(":"===t.text&&n(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||n(e.text,["get","set"])&&n(t.type,["TK_WORD","TK_RESERVED"]))?n(G,["class","interface"])?u.BlockStatement:u.ObjectLiteral:u.BlockStatement);var i=!e.comments_before.length&&"}"===e.text,o=i&&"function"===X.last_word&&"TK_END_EXPR"===V;"expand"===te.brace_style||"none"===te.brace_style&&K.wanted_newline?"TK_OPERATOR"!==V&&(o||"TK_EQUALS"===V||"TK_RESERVED"===V&&x(X.last_text)&&"else"!==X.last_text)?B.space_before_token=!0:f(!1,!0):"TK_OPERATOR"!==V&&"TK_START_EXPR"!==V?"TK_START_BLOCK"===V?f():B.space_before_token=!0:b(Q.mode)&&","===X.last_text&&("}"===G?B.space_before_token=!0:f()),m(),g()}function A(){for(;X.mode===u.Statement;)w();var e="TK_START_BLOCK"===V;"expand"===te.brace_style?e||f():e||(b(X.mode)&&te.keep_array_indentation?(te.keep_array_indentation=!1,f(),te.keep_array_indentation=!0):f()),w(),m()}function F(){if("TK_RESERVED"===K.type&&X.mode!==u.ObjectLiteral&&n(K.text,["set","get"])&&(K.type="TK_WORD"),"TK_RESERVED"===K.type&&X.mode===u.ObjectLiteral){var e=C(1);":"==e.text&&(K.type="TK_WORD")}if(S()||!K.wanted_newline||_(X.mode)||"TK_OPERATOR"===V&&"--"!==X.last_text&&"++"!==X.last_text||"TK_EQUALS"===V||!te.preserve_newlines&&"TK_RESERVED"===V&&n(X.last_text,["var","let","const","set","get"])||f(),X.do_block&&!X.do_while){if("TK_RESERVED"===K.type&&"while"===K.text)return B.space_before_token=!0,m(),B.space_before_token=!0,void(X.do_while=!0);f(),X.do_block=!1}if(X.if_block)if(X.else_block||"TK_RESERVED"!==K.type||"else"!==K.text){for(;X.mode===u.Statement;)w();X.if_block=!1,X.else_block=!1}else X.else_block=!0;if("TK_RESERVED"===K.type&&("case"===K.text||"default"===K.text&&X.in_case_statement))return f(),(X.case_body||te.jslint_happy)&&(v(),X.case_body=!1),m(),X.in_case=!0,void(X.in_case_statement=!0);if("TK_RESERVED"===K.type&&"function"===K.text&&((n(X.last_text,["}",";"])||B.just_added_newline()&&!n(X.last_text,["[","{",":","=",","]))&&(B.just_added_blankline()||K.comments_before.length||(f(),f(!0))),"TK_RESERVED"===V||"TK_WORD"===V?"TK_RESERVED"===V&&n(X.last_text,["get","set","new","return","export","async"])?B.space_before_token=!0:"TK_RESERVED"===V&&"default"===X.last_text&&"export"===G?B.space_before_token=!0:f():"TK_OPERATOR"===V||"="===X.last_text?B.space_before_token=!0:(X.multiline_frame||!_(X.mode)&&!b(X.mode))&&f()),("TK_COMMA"===V||"TK_START_EXPR"===V||"TK_EQUALS"===V||"TK_OPERATOR"===V)&&(k()||h()),"TK_RESERVED"===K.type&&n(K.text,["function","get","set"]))return m(),void(X.last_word=K.text);if(Z="NONE","TK_END_BLOCK"===V?"TK_RESERVED"===K.type&&n(K.text,["else","catch","finally"])?"expand"===te.brace_style||"end-expand"===te.brace_style||"none"===te.brace_style&&K.wanted_newline?Z="NEWLINE":(Z="SPACE",B.space_before_token=!0):Z="NEWLINE":"TK_SEMICOLON"===V&&X.mode===u.BlockStatement?Z="NEWLINE":"TK_SEMICOLON"===V&&_(X.mode)?Z="SPACE":"TK_STRING"===V?Z="NEWLINE":"TK_RESERVED"===V||"TK_WORD"===V||"*"===X.last_text&&"function"===G?Z="SPACE":"TK_START_BLOCK"===V?Z="NEWLINE":"TK_END_EXPR"===V&&(B.space_before_token=!0,Z="NEWLINE"),"TK_RESERVED"===K.type&&n(K.text,W.line_starters)&&")"!==X.last_text&&(Z="else"===X.last_text||"export"===X.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===K.type&&n(K.text,["else","catch","finally"]))if("TK_END_BLOCK"!==V||"expand"===te.brace_style||"end-expand"===te.brace_style||"none"===te.brace_style&&K.wanted_newline)f();else{B.trim(!0);var t=B.current_line;"}"!==t.last()&&f(),B.space_before_token=!0}else"NEWLINE"===Z?"TK_RESERVED"===V&&x(X.last_text)?B.space_before_token=!0:"TK_END_EXPR"!==V?"TK_START_EXPR"===V&&"TK_RESERVED"===K.type&&n(K.text,["var","let","const"])||":"===X.last_text||("TK_RESERVED"===K.type&&"if"===K.text&&"else"===X.last_text?B.space_before_token=!0:f()):"TK_RESERVED"===K.type&&n(K.text,W.line_starters)&&")"!==X.last_text&&f():X.multiline_frame&&b(X.mode)&&","===X.last_text&&"}"===G?f():"SPACE"===Z&&(B.space_before_token=!0);m(),X.last_word=K.text,"TK_RESERVED"===K.type&&"do"===K.text&&(X.do_block=!0),"TK_RESERVED"===K.type&&"if"===K.text&&(X.if_block=!0)}function N(){for(S()&&(B.space_before_token=!1);X.mode===u.Statement&&!X.if_block&&!X.do_block;)w();m()}function I(){S()?B.space_before_token=!0:"TK_RESERVED"===V||"TK_WORD"===V?B.space_before_token=!0:"TK_COMMA"===V||"TK_START_EXPR"===V||"TK_EQUALS"===V||"TK_OPERATOR"===V?k()||h():f(),m()}function O(){S(),X.declaration_statement&&(X.declaration_assignment=!0),B.space_before_token=!0,m(),B.space_before_token=!0}function R(){return X.declaration_statement?(_(X.parent.mode)&&(X.declaration_assignment=!1),m(),void(X.declaration_assignment?(X.declaration_assignment=!1,f(!1,!0)):(B.space_before_token=!0,te.comma_first&&h()))):(m(),void(X.mode===u.ObjectLiteral||X.mode===u.Statement&&X.parent.mode===u.ObjectLiteral?(X.mode===u.Statement&&w(),f()):(B.space_before_token=!0,te.comma_first&&h())))}function $(){if(S(),"TK_RESERVED"===V&&x(X.last_text))return B.space_before_token=!0,void m();if("*"===K.text&&"TK_DOT"===V)return void m();if(":"===K.text&&X.in_case)return X.case_body=!0,g(),m(),f(),void(X.in_case=!1);if("::"===K.text)return void m();"TK_OPERATOR"===V&&h();var e=!0,t=!0;n(K.text,["--","++","!","~"])||n(K.text,["-","+"])&&(n(V,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||n(X.last_text,W.line_starters)||","===X.last_text)?(e=!1,t=!1,!K.wanted_newline||"--"!==K.text&&"++"!==K.text||f(!1,!0),";"===X.last_text&&_(X.mode)&&(e=!0),"TK_RESERVED"===V?e=!0:"TK_END_EXPR"===V?e=!("]"===X.last_text&&("--"===K.text||"++"===K.text)):"TK_OPERATOR"===V&&(e=n(K.text,["--","-","++","+"])&&n(X.last_text,["--","-","++","+"]),n(K.text,["+","-"])&&n(X.last_text,["--","++"])&&(t=!0)),X.mode!==u.BlockStatement&&X.mode!==u.Statement||"{"!==X.last_text&&";"!==X.last_text||f()):":"===K.text?0===X.ternary_depth?e=!1:X.ternary_depth-=1:"?"===K.text?X.ternary_depth+=1:"*"===K.text&&"TK_RESERVED"===V&&"function"===X.last_text&&(e=!1,t=!1),B.space_before_token=B.space_before_token||e,m(),B.space_before_token=t}function H(){if(B.raw)return B.add_raw_token(K),void(K.directives&&"end"===K.directives.preserve&&(te.test_output_raw||(B.raw=!1)));if(K.directives)return f(!1,!0),m(),"start"===K.directives.preserve&&(B.raw=!0),void f(!1,!0);if(!c.newline.test(K.text)&&!K.wanted_newline)return B.space_before_token=!0,m(),void(B.space_before_token=!0);var e,t=s(K.text),n=!1,i=!1,a=K.whitespace_before,r=a.length;for(f(!1,!0),t.length>1&&(T(t.slice(1),"*")?n=!0:E(t.slice(1),a)&&(i=!0)),m(t[0]),e=1;e<t.length;e++)f(!1,!0),n?m(" "+o(t[e])):i&&t[e].length>r?m(t[e].substring(r)):B.add_token(t[e]);f(!1,!0)}function P(){K.wanted_newline?f(!1,!0):B.trim(!0),B.space_before_token=!0,m(),f(!1,!0)}function j(){S(),"TK_RESERVED"===V&&x(X.last_text)?B.space_before_token=!0:h(")"===X.last_text&&te.break_chained_methods),m()}function z(){m(),"\n"===K.text[K.text.length-1]&&f()}function Y(){for(;X.mode===u.Statement;)w()}var B,U,W,K,V,G,q,X,Q,J,Z,ee,te,ne=[],ie="";for(ee={TK_START_EXPR:M,TK_END_EXPR:L,TK_START_BLOCK:D,TK_END_BLOCK:A,TK_WORD:F,TK_RESERVED:F,TK_SEMICOLON:N,TK_STRING:I,TK_EQUALS:O,TK_OPERATOR:$,TK_COMMA:R,TK_BLOCK_COMMENT:H,TK_COMMENT:P,TK_DOT:j,TK_UNKNOWN:z,TK_EOF:Y},t=t?t:{},te={},void 0!==t.braces_on_own_line&&(te.brace_style=t.braces_on_own_line?"expand":"collapse"),te.brace_style=t.brace_style?t.brace_style:te.brace_style?te.brace_style:"collapse","expand-strict"===te.brace_style&&(te.brace_style="expand"),te.indent_size=t.indent_size?parseInt(t.indent_size,10):4,te.indent_char=t.indent_char?t.indent_char:" ",te.eol=t.eol?t.eol:"\n",te.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,te.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,te.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),te.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,te.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,te.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,te.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,te.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,te.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,te.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,te.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),te.e4x=void 0!==t.e4x&&t.e4x,te.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,te.comma_first=void 0!==t.comma_first&&t.comma_first,te.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,te.jslint_happy&&(te.space_after_anon_function=!0),t.indent_with_tabs&&(te.indent_char="\t",te.indent_size=1),te.eol=te.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),q="";te.indent_size>0;)q+=te.indent_char,te.indent_size-=1;var oe=0;if(e&&e.length){for(;" "===e.charAt(oe)||"\t"===e.charAt(oe);)ie+=e.charAt(oe),oe+=1;e=e.substring(oe)}V="TK_START_BLOCK",G="",B=new l(q,ie),B.raw=te.test_output_raw,J=[],y(u.BlockStatement),this.beautify=function(){var t,n;for(W=new d(e,te,q),ne=W.tokenize(),U=0;t=C();){for(var i=0;i<t.comments_before.length;i++)r(t.comments_before[i]);r(t),G=X.last_text,V=t.type,X.last_text=t.text,U+=1}return n=B.get_code(),te.end_with_newline&&(n+="\n"),"\n"!=te.eol&&(n=n.replace(/[\n]/g,te.eol)),n}}function s(e){var t=0,n=-1,i=[],o=!0;this.set_indent=function(i){t=e.baseIndentLength+i*e.indent_length,n=i},this.get_character_count=function(){return t},this.is_empty=function(){return o},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(e){i.push(e),t+=e.length,o=!1},this.pop=function(){var e=null;return o||(e=i.pop(),t-=e.length,o=0===i.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)i.pop(),t-=1;o=0===i.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=i.join("")),t}}function l(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new s(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return(1!==this.get_line_number()||!this.just_added_newline())&&(!(!e&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0))},this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==u.ForInitializer&&e.mode!==u.Conditional)for(var t=e.start_line_index,i=n.length;i>t;)n[t].remove_indent(),t++},this.trim=function(i){for(i=void 0!==i&&i,this.current_line.trim(e,t);i&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty();
},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var e=n[n.length-2];return e.is_empty()}return!1}}function d(e,t){function o(e){if(!e.match(S))return null;var t={};T.lastIndex=0;for(var n=T.exec(e);n;)t[n[1]]=n[2],n=T.exec(e);return t}function a(){var a,S=[];if(p=0,m="",y>=b)return["","TK_EOF"];var T;T=v.length?v[v.length-1]:new h("TK_START_BLOCK","{");var C=e.charAt(y);for(y+=1;n(C,s);){if(c.newline.test(C)?("\n"!==C||"\r"!==e.charAt(y-2))&&(p+=1,S=[]):S.push(C),y>=b)return["","TK_EOF"];C=e.charAt(y),y+=1}if(S.length&&(m=S.join("")),l.test(C)){var M=!0,L=!0,D=l;for("0"===C&&b>y&&/[Xxo]/.test(e.charAt(y))?(M=!1,L=!1,C+=e.charAt(y),y+=1,D=/[o]/.test(e.charAt(y))?d:u):(C="",y-=1);b>y&&D.test(e.charAt(y));)C+=e.charAt(y),y+=1,M&&b>y&&"."===e.charAt(y)&&(C+=e.charAt(y),y+=1,M=!1),L&&b>y&&/[Ee]/.test(e.charAt(y))&&(C+=e.charAt(y),y+=1,b>y&&/[+-]/.test(e.charAt(y))&&(C+=e.charAt(y),y+=1),L=!1,M=!1);return[C,"TK_WORD"]}if(c.isIdentifierStart(e.charCodeAt(y-1))){if(b>y)for(;c.isIdentifierChar(e.charCodeAt(y))&&(C+=e.charAt(y),y+=1,y!==b););return"TK_DOT"===T.type||"TK_RESERVED"===T.type&&n(T.text,["set","get"])||!n(C,_)?[C,"TK_WORD"]:"in"===C?[C,"TK_OPERATOR"]:[C,"TK_RESERVED"]}if("("===C||"["===C)return[C,"TK_START_EXPR"];if(")"===C||"]"===C)return[C,"TK_END_EXPR"];if("{"===C)return[C,"TK_START_BLOCK"];if("}"===C)return[C,"TK_END_BLOCK"];if(";"===C)return[C,"TK_SEMICOLON"];if("/"===C){var A="";if("*"===e.charAt(y)){y+=1,w.lastIndex=y;var F=w.exec(e);A="/*"+F[0],y+=F[0].length;var N=o(A);return N&&"start"===N.ignore&&(E.lastIndex=y,F=E.exec(e),A+=F[0],y+=F[0].length),A=A.replace(c.lineBreak,"\n"),[A,"TK_BLOCK_COMMENT",N]}if("/"===e.charAt(y)){y+=1,k.lastIndex=y;var F=k.exec(e);return A="//"+F[0],y+=F[0].length,[A,"TK_COMMENT"]}}if("`"===C||"'"===C||'"'===C||("/"===C||t.e4x&&"<"===C&&e.slice(y-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===T.type&&n(T.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===T.type&&")"===T.text&&T.parent&&"TK_RESERVED"===T.parent.type&&n(T.parent.text,["if","while","for"])||n(T.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var I=C,O=!1,R=!1;if(a=C,"/"===I)for(var $=!1;b>y&&(O||$||e.charAt(y)!==I)&&!c.newline.test(e.charAt(y));)a+=e.charAt(y),O?O=!1:(O="\\"===e.charAt(y),"["===e.charAt(y)?$=!0:"]"===e.charAt(y)&&($=!1)),y+=1;else if(t.e4x&&"<"===I){var H=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,P=e.slice(y-1),j=H.exec(P);if(j&&0===j.index){for(var z=j[2],Y=0;j;){var B=!!j[1],U=j[2],W=!!j[j.length-1]||"![CDATA["===U.slice(0,8);if(U!==z||W||(B?--Y:++Y),0>=Y)break;j=H.exec(P)}var K=j?j.index+j[0].length:P.length;return P=P.slice(0,K),y+=K-1,P=P.replace(c.lineBreak,"\n"),[P,"TK_STRING"]}}else for(;b>y&&(O||e.charAt(y)!==I&&("`"===I||!c.newline.test(e.charAt(y))));)(O||"`"===I)&&c.newline.test(e.charAt(y))?("\r"===e.charAt(y)&&"\n"===e.charAt(y+1)&&(y+=1),a+="\n"):a+=e.charAt(y),O?(("x"===e.charAt(y)||"u"===e.charAt(y))&&(R=!0),O=!1):O="\\"===e.charAt(y),y+=1;if(R&&t.unescape_strings&&(a=r(a)),b>y&&e.charAt(y)===I&&(a+=I,y+=1,"/"===I))for(;b>y&&c.isIdentifierStart(e.charCodeAt(y));)a+=e.charAt(y),y+=1;return[a,"TK_STRING"]}if("#"===C){if(0===v.length&&"!"===e.charAt(y)){for(a=C;b>y&&"\n"!==C;)C=e.charAt(y),a+=C,y+=1;return[i(a)+"\n","TK_UNKNOWN"]}var V="#";if(b>y&&l.test(e.charAt(y))){do C=e.charAt(y),V+=C,y+=1;while(b>y&&"#"!==C&&"="!==C);return"#"===C||("["===e.charAt(y)&&"]"===e.charAt(y+1)?(V+="[]",y+=2):"{"===e.charAt(y)&&"}"===e.charAt(y+1)&&(V+="{}",y+=2)),[V,"TK_WORD"]}}if("<"===C&&("?"===e.charAt(y)||"%"===e.charAt(y))){x.lastIndex=y-1;var G=x.exec(e);if(G)return C=G[0],y+=C.length-1,C=C.replace(c.lineBreak,"\n"),[C,"TK_STRING"]}if("<"===C&&"<!--"===e.substring(y-1,y+3)){for(y+=3,C="<!--";!c.newline.test(e.charAt(y))&&b>y;)C+=e.charAt(y),y++;return g=!0,[C,"TK_COMMENT"]}if("-"===C&&g&&"-->"===e.substring(y-1,y+2))return g=!1,y+=2,["-->","TK_COMMENT"];if("."===C)return[C,"TK_DOT"];if(n(C,f)){for(;b>y&&n(C+e.charAt(y),f)&&(C+=e.charAt(y),y+=1,!(y>=b)););return","===C?[C,"TK_COMMA"]:"="===C?[C,"TK_EQUALS"]:[C,"TK_OPERATOR"]}return[C,"TK_UNKNOWN"]}function r(e){for(var t,n=!1,i="",o=0,a="",r=0;n||o<e.length;)if(t=e.charAt(o),o++,n){if(n=!1,"x"===t)a=e.substr(o,2),o+=2;else{if("u"!==t){i+="\\"+t;continue}a=e.substr(o,4),o+=4}if(!a.match(/^[0123456789abcdefABCDEF]+$/))return e;if(r=parseInt(a,16),r>=0&&32>r){i+="x"===t?"\\x"+a:"\\u"+a;continue}if(34===r||39===r||92===r)i+="\\"+String.fromCharCode(r);else{if("x"===t&&r>126&&255>=r)return e;i+=String.fromCharCode(r)}}else"\\"===t?n=!0:i+=t;return i}var s="\n\r\t ".split(""),l=/[0-9]/,d=/[01234567]/,u=/[0123456789abcdefABCDEF]/,f="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var p,m,g,v,y,b,_=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),w=/([\s\S]*?)((?:\*\/)|$)/g,k=/([^\n\r\u2028\u2029]*)/g,S=/\/\* beautify( \w+[:]\w+)+ \*\//g,T=/ (\w+)[:](\w+)/g,E=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,x=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){b=e.length,y=0,g=!1,v=[];for(var t,n,i,o=null,r=[],s=[];!n||"TK_EOF"!==n.type;){for(i=a(),t=new h(i[1],i[0],p,m);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=i[2]),s.push(t),i=a(),t=new h(i[1],i[0],p,m);s.length&&(t.comments_before=s,s=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=n,r.push(o),o=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&o&&("]"===t.text&&"["===o.text||")"===t.text&&"("===o.text||"}"===t.text&&"{"===o.text)&&(t.parent=o.parent,o=r.pop()),v.push(t),n=t}return v}}var c={};!function(e){var t="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",n="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",i=new RegExp("["+t+"]"),o=new RegExp("["+t+n+"]");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(e){return 65>e?36===e||64===e:91>e||(97>e?95===e:123>e||e>=170&&i.test(String.fromCharCode(e)))},e.isIdentifierChar=function(e){return 48>e?36===e:58>e||!(65>e)&&(91>e||(97>e?95===e:123>e||e>=170&&o.test(String.fromCharCode(e))))}}(c);var u={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},h=function(e,t,n,i){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=i||"",this.parent=null,this.directives=null};return{run:e}}});